(window.webpackJsonpsamegame=window.webpackJsonpsamegame||[]).push([[0],{102:function(e,t,n){e.exports=n.p+"static/media/red.fw.1ddc275d.png"},103:function(e,t,n){e.exports=n.p+"static/media/blue.fw.6c33a757.png"},104:function(e,t,n){e.exports=n.p+"static/media/green.fw.c857b8ef.png"},105:function(e,t,n){e.exports=n.p+"static/media/yellow.fw.57c30b6e.png"},106:function(e,t,n){e.exports=n.p+"static/media/orange.fw.5a79c073.png"},107:function(e,t,n){e.exports=n.p+"static/media/cyan.fw.d2cdd8c8.png"},108:function(e,t,n){e.exports=n.p+"static/media/purple.fw.661f2f96.png"},109:function(e,t,n){e.exports=n.p+"static/media/blank.fw.b8bd58ca.png"},128:function(e,t,n){e.exports=n(202)},133:function(e,t,n){},199:function(e,t,n){},202:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(4),o=n.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(133);var c=n(101),s=n(17),u=n(18),l=n(30),p=n(29),h=n(32),f=n(77),d=n(11),m=n.n(d),g=n(81),b=n(203),v=n(206),k=n(207),y=n(102),w=n.n(y),O=n(103),j=n.n(O),E=n(104),C=n.n(E),S=n(105),x=n.n(S),G=n(106),z=n.n(G),T=n(107),P=n.n(T),B=n(108),D=n.n(B),A=n(109),W=n.n(A),_=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e,t=this;switch(this.props.no){case 1:e=j.a;break;case 2:e=w.a;break;case 3:e=C.a;break;case 4:e=x.a;break;case 5:e=z.a;break;case 6:e=P.a;break;case 7:e=D.a;break;default:e=W.a}return a.createElement("td",null,a.createElement("img",{onClick:function(){return t.props.onClick(t.props.no)},src:e,alt:""+this.props.no}))}}]),t}(a.Component),M=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"onTileClick",value:function(e,t){this.props.onClick(e,t)}},{key:"render",value:function(){var e=this,t=[];return m.a.forEach(this.props.grid,(function(n,a){var i=[];m.a.forEach(n,(function(t,n){i.push(r.a.createElement(_,{onClick:function(){return e.onTileClick(a,n)},no:t,key:Math.pow(2,a)*Math.pow(3,n)}))})),t.push(r.a.createElement("tr",{key:a},i))})),r.a.createElement("table",{className:this.props.className},r.a.createElement("tbody",null,t))}}]),t}(r.a.Component),K=n(122),R=function(){function e(t,n){Object(s.a)(this,e),this._row=void 0,this._col=void 0,this._row=t,this._col=n}return Object(u.a)(e,[{key:"toArray",value:function(){return[this.row,this.col]}},{key:"getKey",value:function(){return Math.pow(2,this.row)*Math.pow(3,this.col)}},{key:"equals",value:function(e){return this.row===e.row&&this.col===e.col}},{key:"row",get:function(){return this._row}},{key:"col",get:function(){return this._col}}],[{key:"fromKeyToPosition",value:function(t){for(var n=0,a=0;t%2===0;)n++,t/=2;for(;t%3===0;)a++,t/=3;return new e(n,a)}}]),e}(),F=function(){function e(t){Object(s.a)(this,e),this.data=void 0,this.data=t}return Object(u.a)(e,[{key:"getData",value:function(){return m.a.cloneDeep(this.data)}},{key:"isGameFinished",value:function(){for(var e=this.data.length,t=0;t<e;t++)for(var n=0;n<e;n++)if(0!==this.data[t][n]&&this.getGroup(t,n).length>1)return!1;return!0}},{key:"didWeWin",value:function(){for(var e=this.data.length,t=0;t<e;t++)for(var n=0;n<e;n++)if(0!==this.data[t][n])return!1;return!0}},{key:"getAdjacentTiles",value:function(e,t){var n=this.data.length,a=[];return t>0&&a.push(new R(e,t-1)),t<n-1&&a.push(new R(e,t+1)),e>0&&a.push(new R(e-1,t)),e<n-1&&a.push(new R(e+1,t)),a}},{key:"getGroup",value:function(e,t){for(var n=this,a=this.data[e][t],r=[new R(e,t)],i=[];r.length>0;){var o=r.pop();if(!o)break;!function(){var e=o,t=e.toArray(),c=Object(K.a)(t,2),s=c[0],u=c[1];i.push(e);var l=n.getAdjacentTiles(s,u);l=m.a.filter(l,(function(e){return n.data[e.row][e.col]===a}));var p=m.a.map(i,(function(e){return e.getKey()}));l=m.a.filter(l,(function(e){return!p.includes(e.getKey())})),m.a.forEach(l,(function(e){return r.push(e)}))}()}return i}},{key:"select",value:function(t,n){var a=this.getData(),r=a[t][n];if(0===r)return new e(a);var i=this.getAdjacentTiles(t,n);if(0===(i=m.a.filter(i,(function(e){return a[e.row][e.col]===r}))).length)return new e(a);var o=a.length;m.a.forEach(this.getGroup(t,n),(function(e){return a[e.row][e.col]=0})),a=m.a.unzip(a);for(var c=0;c<o;c++)for(var s=0,u=o-1;u>=0;u--)if(0===a[c][u])s++;else{var l=a[c][u];a[c][u]=0,a[c][u+s]=l}for(var p=0,h=o-1;h>=0;h--)if(0===m.a.reduce(a[h],(function(e,t){return e+t}),0))p++;else{var f=m.a.clone(a[h]);a[h]=m.a.map(a[h],(function(e){return 0})),a[h+p]=f}return new e(a=m.a.unzip(a))}}]),e}(),I=n(205),N=n(204),J=b.a.Text,Y=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.createElement("div",null,a.createElement(I.a,{onClick:this.props.onRandomiseGridClick,type:"primary"},"Randomise grid"),a.createElement(v.a,null,a.createElement(k.a,{span:11},a.createElement(J,null,"Grid size (",this.props.gridSize,")"),a.createElement(N.a,{min:3,max:15,onChange:this.props.onGridSizeChange,value:this.props.gridSize})),a.createElement(k.a,{span:2}),a.createElement(k.a,{span:11},a.createElement(J,null,"Block count (",this.props.blockCount,")"),a.createElement(N.a,{min:2,max:7,onChange:this.props.onBlockCountChange,value:this.props.blockCount}))))}}]),t}(a.Component);n(199);function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function $(){var e=Object(f.a)(["\n    margin-top: 20px;\n"]);return $=function(){return e},e}function H(){var e=Object(f.a)(["\n    margin: 10px;\n"]);return H=function(){return e},e}var L=b.a.Title,Q=(b.a.Text,{display:"flex",justifyContent:"center"}),U={color:"green"},V={color:"red"},X=Object(g.a)(M)(H()),Z=Object(g.a)(L)($()),ee=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(p.a)(t).call(this,e))).state={grid:void 0!==n.props.startingGrid?n.props.startingGrid:n.randomiseGrid(10,4,!0),gridSize:10,blockCount:4},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"randomiseGrid",value:function(e,t,n){for(var a=[],r=0;r<e;r++){a.push([]);for(var i=0;i<e;i++)a[r].push(m.a.random(1,t))}var o=new F(a);return n||this.setState({grid:new F(a)}),o}},{key:"onTileClick",value:function(e,t){this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},this.state,{grid:this.state.grid.select(e,t)}))}},{key:"onGridSizeChange",value:function(e){var t=parseInt(e.toString());this.randomiseGrid(t,this.state.blockCount,!1),this.setState({gridSize:t})}},{key:"onBlockCountChange",value:function(e){var t=parseInt(e.toString());this.randomiseGrid(this.state.gridSize,t,!1),this.setState({blockCount:t})}},{key:"render",value:function(){var e=this,t=null;return this.state.grid.isGameFinished()&&(t=this.state.grid.didWeWin()?r.a.createElement(L,{level:3,style:U},"You win!"):r.a.createElement(L,{level:3,style:V},"You lose!")),r.a.createElement("div",{className:"App"},r.a.createElement(Z,null,"SameGame for React"),r.a.createElement(L,{level:2},"by Matthew Barnes"),r.a.createElement(v.a,null,r.a.createElement(k.a,{xs:0,md:4}),r.a.createElement(k.a,{xs:{span:24,pull:0},md:{span:6,push:10}},r.a.createElement(Y,{gridSize:this.state.gridSize,blockCount:this.state.blockCount,onRandomiseGridClick:function(){return e.randomiseGrid(e.state.gridSize,e.state.blockCount,!1)},onGridSizeChange:this.onGridSizeChange.bind(this),onBlockCountChange:this.onBlockCountChange.bind(this)})),r.a.createElement(k.a,{xs:{span:24,push:0},md:{span:10,pull:6},style:Q},r.a.createElement(v.a,{style:{width:"100%"}},r.a.createElement(k.a,{span:24,style:Q},r.a.createElement(X,{onClick:this.onTileClick.bind(this),grid:this.state.grid.getData()})),r.a.createElement(k.a,{span:24},null!=t?t:r.a.createElement(r.a.Fragment,null)))),r.a.createElement(k.a,{xs:0,md:4})))}}]),t}(r.a.Component);n(201);o.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[128,1,2]]]);
//# sourceMappingURL=main.67493c35.chunk.js.map